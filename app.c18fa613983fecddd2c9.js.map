{"version":3,"file":"app.c18fa613983fecddd2c9.js","mappings":"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","sources":["webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://ajs-retro_game/./src/js/utils.js","webpack://ajs-retro_game/./src/js/GamePlay.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://ajs-retro_game/./src/js/themes.js","webpack://ajs-retro_game/./src/js/cursors.js","webpack://ajs-retro_game/./src/js/side.js","webpack://ajs-retro_game/./src/js/GameState.js","webpack://ajs-retro_game/./src/js/Character.js","webpack://ajs-retro_game/./src/js/PositionedCharacter.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/set.js","webpack://ajs-retro_game/./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack://ajs-retro_game/./src/js/heroesCharacteristic.js","webpack://ajs-retro_game/./src/js/Heroes/Bowman.js","webpack://ajs-retro_game/./src/js/Heroes/Daemon.js","webpack://ajs-retro_game/./src/js/Heroes/Magician.js","webpack://ajs-retro_game/./src/js/Heroes/Swordsman.js","webpack://ajs-retro_game/./src/js/Heroes/Undead.js","webpack://ajs-retro_game/./src/js/Heroes/Vampire.js","webpack://ajs-retro_game/./src/js/Team.js","webpack://ajs-retro_game/./src/js/generators.js","webpack://ajs-retro_game/./src/js/GameController.js","webpack://ajs-retro_game/./src/js/GameStateService.js","webpack://ajs-retro_game/./src/js/app.js"],"sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export function calcTileType(index, boardSize) {\r\n  switch (true) {\r\n    case index === 0:\r\n      return 'top-left';\r\n    case (index < boardSize - 1):\r\n      return 'top';\r\n    case (index === boardSize - 1):\r\n      return 'top-right';\r\n    case (index === boardSize ** 2 - 1):\r\n      return 'bottom-right';\r\n    case ((index + 1) % boardSize === 0):\r\n      return 'right';\r\n    case (index > boardSize ** 2 - boardSize):\r\n      return 'bottom';\r\n    case (index === boardSize ** 2 - boardSize):\r\n      return 'bottom-left';\r\n    case (index % boardSize === 0):\r\n      return 'left';\r\n    default:\r\n      return 'center';\r\n  }\r\n}\r\n\r\nexport function calcHealthLevel(health) { \r\n  if (health < 15) {    //–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ç–æ—è–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å–µ —É –≥–µ—Ä–æ—è (  –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ  –º–µ–Ω—å—à–µ 15, –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –º–µ–Ω—å—à–µ 50, –≤—Å–µ –≤—ã—à–µ –≤—ã—Å–æ–∫–æ–µ )\r\n    return 'critical';\r\n  }\r\n\r\n  if (health < 50) {\r\n    return 'normal';\r\n  }\r\n\r\n  return 'high';\r\n}\r\n","import { calcHealthLevel, calcTileType } from './utils';\r\n\r\nexport default class GamePlay {\r\n  constructor() {\r\n    this.boardSize = 8;\r\n    this.container = null;\r\n    this.popup = null;\r\n    this.boardEl = null; // –ü–æ–ª–µ\r\n    this.cells = []; // –≠–ª–µ–º–µ–Ω—Ç—ã –ø–æ–ª—è\r\n    this.cellClickListeners = [];\r\n    this.cellEnterListeners = [];\r\n    this.cellLeaveListeners = [];\r\n    this.newGameListeners = [];\r\n    this.saveGameListeners = [];\r\n    this.loadGameListeners = [];\r\n  }\r\n\r\n  bindToDOM(container) {\r\n    if (!(container instanceof HTMLElement)) {\r\n      throw new Error('container is not HTMLElement');\r\n    }\r\n    this.container = container;\r\n  }\r\n\r\n  bindPopup(popup) {\r\n    if (!(popup instanceof HTMLElement)) {\r\n      throw new Error('container is not HTMLElement');\r\n    }\r\n    this.popup = popup;\r\n  }\r\n\r\n  /**\r\n   * Draws boardEl with specific theme\r\n   *\r\n   * @param theme\r\n   */\r\n  drawUi(theme) {\r\n    this.checkBinding();\r\n\r\n    this.container.innerHTML = `\r\n      <div class=\"controls\">\r\n        <button data-id=\"action-restart\" class=\"btn\">New Game</button>\r\n        <button data-id=\"action-save\" class=\"btn\">Save Game</button>\r\n        <button data-id=\"action-load\" class=\"btn\">Load Game</button>\r\n      </div>\r\n      <div class=\"board-container\">\r\n        <div data-id=\"board\" class=\"board\"></div>\r\n      </div>\r\n    `;\r\n\r\n    this.newGameEl = this.container.querySelector('[data-id=action-restart]');\r\n    this.saveGameEl = this.container.querySelector('[data-id=action-save]');\r\n    this.loadGameEl = this.container.querySelector('[data-id=action-load]');\r\n    this.popupCloseButton = this.popup.querySelector('.popup__button');\r\n\r\n    this.newGameEl.addEventListener('click', (event) => this.onNewGameClick(event));\r\n    this.saveGameEl.addEventListener('click', (event) => this.onSaveGameClick(event));\r\n    this.loadGameEl.addEventListener('click', (event) => this.onLoadGameClick(event));\r\n    this.popupCloseButton.addEventListener('click', () => this.closePopup());\r\n\r\n    this.boardEl = this.container.querySelector('[data-id=board]');\r\n\r\n    this.boardEl.classList.add(theme);\r\n    for (let i = 0; i < this.boardSize ** 2; i += 1) {\r\n      const cellEl = document.createElement('div');\r\n      cellEl.classList.add('cell', 'map-tile', `map-tile-${calcTileType(i, this.boardSize)}`);\r\n      cellEl.addEventListener('mouseenter', (event) => this.onCellEnter(event)); //–ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è mouseenter –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –≤—Å–µ—Ö 63 –∫–ª–µ—Ç–æ–∫ –∫–∞—Ä—Ç—ã \r\n      cellEl.addEventListener('mouseleave', (event) => this.onCellLeave(event)); //–ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è mouseleave –ø—Ä–∏ –ø–æ–∫–∏–¥–∞–Ω–∏—è –∫—É—Ä—Å–æ—Ä–∞ —Å —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –≤—Å–µ—Ö 63 –∫–ª–µ—Ç–æ–∫ –∫–∞—Ä—Ç—ã \r\n      cellEl.addEventListener('click', (event) => this.onCellClick(event));\r\n      this.boardEl.appendChild(cellEl);\r\n    }\r\n     \r\n    this.cells = Array.from(this.boardEl.children);\r\n  }\r\n\r\n  /**\r\n   * Draws positions (with chars) on boardEl\r\n   *\r\n   * @param positions array of PositionedCharacter objects\r\n   */\r\n  redrawPositions(positions) {\r\n    for (const cell of this.cells) { // –î–æ–±–∞–≤–ª—è–µ–º –∫ –∫–∞–∂–¥–æ–º—É –¥–æ–º —ç–ª–µ–º–µ–Ω—Ç—É –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É <div class=\"cell map-tile map-tile-top-left\">''</div>\r\n      cell.innerHTML = '';\r\n    }\r\n\r\n    for (const position of positions) {\r\n      const cellEl = this.boardEl.children[position.position]; //–∏–∑ –æ–±—å–µ—Ç–∞ positions –±–µ—Ä–µ–º –ø–æ–∑–∏—Ü–∏—é –∏–≥—Ä–æ–∫–∞ –≥–¥–µ –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ –∏ –≤–æ–∑—Ä–∞—à–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç Dom \r\n      const charEl = document.createElement('div');\r\n      charEl.classList.add('character', position.character.type); //–î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å—ã –∫ —ç–µ–º–µ–Ω—Ç—É cellEl 'character' –∏ –∏–º—è –∫–ª–∞—Å—Å–∞ –∏–≥—Ä—ã \r\n\r\n      const healthEl = document.createElement('div');\r\n      healthEl.classList.add('health-level');\r\n\r\n      const healthIndicatorEl = document.createElement('div');\r\n      healthIndicatorEl.classList.add('health-level-indicator', `health-level-indicator-${calcHealthLevel(position.character.health)}`); // –ø–µ—Ä–µ–¥–∞–µ–º —Å–≤–æ–π—Å–≤–æ –∑–¥–æ—Ä–æ–≤—å–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é calcHealthLevel() –∏ –≤–æ–∑—Ä–∞—à–∞–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–¥–æ—Ä–æ–≤—å–µ —É –≥–µ—Ä–æ—è\r\n      healthIndicatorEl.style.width = `${position.character.health}%`; //–î–æ–±–∞–≤–ª—è–µ–º –≤ –∞—Ç—Ä–∏–±—É—Ç style —Å–≤–æ–π—Å–≤—Ç–æ width –≤ % –æ—Ç–Ω–æ—à. —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∂–∏–∑–Ω–∏ –≥–µ—Ä–æ—è \r\n      healthEl.appendChild(healthIndicatorEl); \r\n\r\n      charEl.appendChild(healthEl);\r\n      cellEl.appendChild(charEl);\r\n      //                                                       –°–æ–∑–¥–∞–µ–º —Ç–∞–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É \r\n      //<div class=\"cell map-tile map-tile-left\">\r\n      //   <div class=\"character bowman\">\r\n      //      <div class=\"health-level\">\r\n      //          <div class=\"health-level-indicator health-level-indicator-high\" style=\"width: 100%;\">\r\n      //      </div>\r\n      //   </div>\r\n      //</div>\r\n  \r\n    }\r\n  }\r\n\r\n  // –î–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è –≤ –º–∞—Å—Å–∏–≤. –§—É–Ω–∫—Ü–∏—è –¥–ª—è –°–æ–±—ã—Ç–∏—è \"mouseenter\" –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑ 63 —è—á–µ–µ–∫ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è. \r\n  addCellEnterListener(callback) {\r\n    this.cellEnterListeners.push(callback);\r\n  }\r\n\r\n // –î–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è –≤ –º–∞—Å—Å–∏–≤. –§—É–Ω–∫—Ü–∏—è –¥–ª—è –°–æ–±—ã—Ç–∏—è \"mouseleave\" –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑ 63 —è—á–µ–µ–∫  –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è. \r\n  addCellLeaveListener(callback) {\r\n    this.cellLeaveListeners.push(callback);\r\n  }\r\n\r\n // –î–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è –≤ –º–∞—Å—Å–∏–≤. –§—É–Ω–∫—Ü–∏—è –¥–ª—è –°–æ–±—ã—Ç–∏—è \"—Ålick\" –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑ 63 —è—á–µ–µ–∫ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è.\r\n  addCellClickListener(callback) {\r\n    this.cellClickListeners.push(callback);\r\n  }\r\n\r\n // –î–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è –≤ –º–∞—Å—Å–∏–≤. –§—É–Ω–∫—Ü–∏—è –¥–ª—è –°–æ–±—ã—Ç–∏—è \"—Ålick\" –ø–æ –∫–Ω–æ–ø–∫–∏ NewGame\r\n  addNewGameListener(callback) {\r\n    this.newGameListeners.push(callback);\r\n  }\r\n\r\n // –î–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è –≤ –º–∞—Å—Å–∏–≤. –§—É–Ω–∫—Ü–∏—è –¥–ª—è –°–æ–±—ã—Ç–∏—è \"—Ålick\" –ø–æ –∫–Ω–æ–ø–∫–∏ SaveGame\r\n  addSaveGameListener(callback) {\r\n    this.saveGameListeners.push(callback);\r\n  }\r\n\r\n // –î–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è –≤ –º–∞—Å—Å–∏–≤. –§—É–Ω–∫—Ü–∏—è –¥–ª—è –°–æ–±—ã—Ç–∏—è \"—Ålick\" –ø–æ –∫–Ω–æ–ø–∫–∏ LoadGame\r\n  addLoadGameListener(callback) {\r\n    this.loadGameListeners.push(callback);\r\n  }\r\n\r\n  //–í—ã–Ω–µ—Å–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–Ω–µ–≥–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –°–æ–±—ã—Ç–∏—è \"mouseenter\" –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç\r\n  onCellEnter(event) {\r\n    event.preventDefault();\r\n    const index = this.cells.indexOf(event.currentTarget); // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–æ–º–µ—Ä —è—á–µ–π–∫–∏ –≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è\r\n    this.cellEnterListeners.forEach((o) => o.call(null, index)); //–ü–µ—Ä–µ–¥–∞–µ–º –Ω–æ–º–µ—Ä —è—á–µ–π–∫–∏ –≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –≤ –∫–æ–ª–±—ç–∫ —Ñ—É–Ω–∫—Ü–∏—é\r\n  }\r\n\r\n //–í—ã–Ω–µ—Å–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–Ω–µ–≥–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –°–æ–±—ã—Ç–∏—è \"mouseleave\" –ø—Ä–∏ –ø–æ–∫–∏–¥–∞–Ω–∏—è –∫—É—Ä—Å–æ—Ä–∞ —Å —ç–ª–µ–º–µ–Ω—Ç–∞\r\n  onCellLeave(event) {\r\n    event.preventDefault();\r\n    const index = this.cells.indexOf(event.currentTarget); // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–æ–º–µ—Ä —è—á–µ–π–∫–∏ –≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è\r\n    this.cellLeaveListeners.forEach((o) => o.call(null, index)); // –ü–µ—Ä–µ–¥–∞–µ–º –Ω–æ–º–µ—Ä —è—á–µ–π–∫–∏ –≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –≤ –∫–æ–ª–±—ç–∫ —Ñ—É–Ω–∫—Ü–∏—é\r\n  }\r\n\r\n  //–í—ã–Ω–µ—Å–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–Ω–µ–≥–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –°–æ–±—ã—Ç–∏—è \"Click\" –Ω–∞ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç \r\n  onCellClick(event) {\r\n    const index = this.cells.indexOf(event.currentTarget); // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–æ–º–µ—Ä —è—á–µ–π–∫–∏ –≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è\r\n    this.cellClickListeners.forEach((o) => o.call(null, index)); // –ü–µ—Ä–µ–¥–∞–µ–º –Ω–æ–º–µ—Ä —è—á–µ–π–∫–∏ –≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –≤ –∫–æ–ª–±—ç–∫ —Ñ—É–Ω–∫—Ü–∏—é\r\n  }\r\n\r\n  //–í—ã–Ω–µ—Å–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–Ω–µ–≥–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –°–æ–±—ã—Ç–∏—è \"Click\" –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ NewGame(–Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É)\r\n  onNewGameClick(event) {\r\n    event.preventDefault();\r\n    this.newGameListeners.forEach((o) => o.call(null));\r\n  }\r\n\r\n  //–í—ã–Ω–µ—Å–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–Ω–µ–≥–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –°–æ–±—ã—Ç–∏—è \"Click\" –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ SaveGame(—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä—É)\r\n  onSaveGameClick(event) {\r\n    event.preventDefault();\r\n    this.saveGameListeners.forEach((o) => o.call(null));\r\n  }\r\n\r\n  //–í—ã–Ω–µ—Å–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–Ω–µ–≥–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –°–æ–±—ã—Ç–∏—è \"Click\" –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ LoadGame(–∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–≥—Ä—É)\r\n  onLoadGameClick(event) {\r\n    event.preventDefault();\r\n    this.loadGameListeners.forEach((o) => o.call(null));\r\n  }\r\n\r\n  static showError(message) {\r\n    alert(message);\r\n  }\r\n\r\n  static showMessage(message) {\r\n    alert(message);\r\n  }\r\n\r\n  selectCell(index, color = 'yellow') { // –ú–µ–Ω—è–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É –Ω–∞ –∏–≥—Ä. –ø–æ–ª–µ\r\n    this.deselectCell(index);\r\n    this.cells[index].classList.add('selected', `selected-${color}`);\r\n  }\r\n\r\n  //–£–¥–∞–ª—è–µ–º –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∫–ª–∞—Å—Å 'selected' –∫–æ—Ç–æ—Ä–æ—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Å–≤–µ—á–µ–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –∏ –ø–æ–ª—è –¥–ª—è —Ö–æ–¥–∞(–∂–µ–ª—Ç–æ–≥–æ –∏ –∑–µ–ª–µ–Ω—Ä–æ–≥–æ —Ü–≤–µ—Ç–∞) –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –≤ —Å–ø–∏—Å–∫–µ –∫–ª–∞—Å—Å–æ–≤ —É –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏ —Å—Ç—Ä–æ–∫–∞ \"selected\" \r\n  deselectCell(index) {  \r\n    const cell = this.cells[index];\r\n    cell.classList.remove(...Array.from(cell.classList)\r\n      .filter((o) => o.startsWith('selected')));\r\n  }\r\n\r\n // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ –ê—Ç—Ä–∏–±—É—Ç title –Ω–∞ message (message —ç—Ç–æ —Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ –ø–æ –Ω–∞–≤–µ–¥–µ–Ω–∏—é —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ \"–ø—Ä–∏–º–µ—Ä(üéñ 1 ‚öî 25 üõ° 25 ‚ù§ 100)\")\r\n  showCellTooltip(message, index) {\r\n    this.cells[index].title = message;\r\n  }\r\n\r\n  //–£–±–∏—Ä–∞–µ–º —Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–æ \"–ø—Ä–∏–º–µ—Ä(üéñ 1 ‚öî 25 üõ° 25 ‚ù§ 100)\". –ê—Ç—Ä–∏–±—É—Ç–µ title –∑–∞–¥–∞–µ—Ç –≤—Å–ø–ª—ã–≤–∞—é—â—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –ø–æ –Ω–∞–≤–µ–¥–µ–Ω–∏—é –º—ã—à–∫–æ–π –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç\r\n  hideCellTooltip(index) {\r\n    this.cells[index].title = '';\r\n  }\r\n\r\n  showDamage(index, damage) {\r\n    return new Promise((resolve) => {\r\n      const cell = this.cells[index];\r\n      const damageEl = document.createElement('span');\r\n      damageEl.textContent = damage;\r\n      damageEl.classList.add('damage');\r\n      cell.appendChild(damageEl);\r\n      damageEl.addEventListener('animationend', () => {\r\n        cell.removeChild(damageEl);\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  //–ú–µ–Ω—è –≤–∏–¥ –∫—É—Ä—Å–æ—Ä–∞ –º—ã—à–∏ \r\n  setCursor(cursor) {\r\n    this.boardEl.style.cursor = cursor;\r\n  }\r\n\r\n  checkBinding() {\r\n    if (this.container === null) {\r\n      throw new Error('GamePlay not bind to DOM'); // –Ω–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ this.container(–ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ DOM)\r\n    }\r\n  }\r\n\r\n  // –ó–∞–∫—Ä—ã–≤–∞–µ—Ç Popup\r\n  closePopup() {\r\n    this.popup.classList.add('popup_hidden');\r\n  }\r\n\r\n  // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç Popup\r\n  showPopup(message) {\r\n    const title = this.popup.querySelector('.popup__title');\r\n    title.textContent = message;\r\n    this.popup.classList.remove('popup_hidden');\r\n  }\r\n}\r\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const themes = {\r\n  prairie: 'prairie',\r\n  desert: 'desert',\r\n  arctic: 'arctic',\r\n  mountain: 'mountain',\r\n};\r\n\r\nexport default themes;\r\n","const cursors = {\r\n  auto: 'auto',\r\n  pointer: 'pointer',\r\n  crosshair: 'crosshair',\r\n  notallowed: 'not-allowed',\r\n};\r\n\r\nexport default cursors;\r\n","const side = {\r\n  COMP: 'computer',\r\n  USER: 'user',\r\n};\r\n\r\nexport default side;\r\n","export default class GameState {\r\n  static from(object) {\r\n    // TODO: create object\r\n    const {\r\n      stage,\r\n      teams,\r\n      motion,\r\n      scores,\r\n    } = object;\r\n    return new GameState(stage, teams, motion, scores);\r\n  }\r\n\r\n  constructor(stage, teams, motion, scores) {\r\n    this.stage = stage; // –£—Ä–æ–≤–µ–Ω—å –∏–≥—Ä—ã\r\n    this.teams = teams; // –ö–æ–º–∞–Ω–¥–∞\r\n    this.motion = motion; // –û—á–µ—Ä–µ–¥—å —Ö–æ–¥–∞\r\n    this.scores = scores || 0; // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤\r\n    this.availableSteps = null; // –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ö–æ–¥–∞\r\n    this.availableAttack = null; // –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∞—Ç–∞–∫–∏\r\n    this.selectedHero = null; // –í—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂\r\n  }\r\n\r\n  /**\r\n   * –û—á–∏—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —à–∞–≥–æ–≤ –∏ –∞—Ç–∞–∫–∏\r\n   */\r\n  clear() {\r\n    this.availableSteps = null;\r\n    this.availableAttack = null;\r\n    this.selectedHero = null;\r\n  }\r\n\r\n  /**\r\n   * –£–¥–∞–ª—è–µ—Ç –≥–µ—Ä–æ—è –∏–∑ –∫–æ–º–∞–Ω–¥—ã –ø–æ –∏–Ω–¥–µ–∫—Å—É\r\n   * @param {*} index - –ò–Ω–¥–µ–∫—Å\r\n   */\r\n  removeHero(index) {\r\n    this.teams = this.teams.filter((member) => member.position !== index);\r\n  }\r\n\r\n  /**\r\n   * –°—á–∏—Ç–∞–µ—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –æ—á–∫–∏ –∑–∞ —Ä–∞—É–Ω–¥\r\n   */\r\n  addScores() {\r\n    const sum = this.teams.reduce((acc, member) => {\r\n      if (member.character.player === 'user') {\r\n        return acc + member.character.health;\r\n      }\r\n      return acc;\r\n    }, 0);\r\n    this.scores += sum;\r\n  }\r\n}\r\n","export default class Character {\r\n  constructor(level, attack, defence, player, stepsRadius, attackRadius) {\r\n    this.level = level; // –£—Ä–æ–≤–µ–Ω—å –∏–≥—Ä–æ–∫–∞\r\n    this.attack = attack; // –°–∏–ª–∞ –∞—Ç–∞–∫–∏\r\n    this.defence = defence; // –ó–∞—â–∏—Ç–∞\r\n    this.health = 100; // –ó–¥–æ—Ä–æ–≤—å–µ\r\n    this.player = player; // –¢–∏–ø –∏–≥—Ä–æ–∫–∞ 'user' –∏–ª–∏ 'computer'\r\n    this.stepsRadius = stepsRadius; // –î–æ—Å—Ç—É–ø–Ω—ã–π —Ä–∞–¥–∏—É—Å —Ö–æ–¥–∞ –≤ –∫–ª–µ—Ç–∫–∞—Ö\r\n    this.attackRadius = attackRadius; // –î–æ—Å—Ç—É–ø–Ω—ã–π —Ä–∞–¥–∏—É—Å –∞—Ç–∞–∫–∏ –≤ –∫–ª–µ—Ç–∫–∞—Ö\r\n    // TODO: throw error if user use \"new Character()\"\r\n    if (new.target.name === 'Character') {\r\n      throw new Error('–ó–∞–ø—Ä–µ—â–µ–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ Character!');\r\n    }\r\n  }\r\n}\r\n","import Character from './Character';\r\n\r\nexport default class PositionedCharacter {\r\n  constructor(character, position) {\r\n    if (!(character instanceof Character)) {\r\n      throw new Error('character must be instance of Character or its children');\r\n    }\r\n\r\n    if (typeof position !== 'number') {\r\n      throw new Error('position must be a number');\r\n    }\r\n\r\n    this.character = character;\r\n    this.position = position;\r\n  }\r\n}\r\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import superPropBase from \"./superPropBase.js\";\nimport defineProperty from \"./defineProperty.js\";\n\nfunction set(target, property, value, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.set) {\n    set = Reflect.set;\n  } else {\n    set = function set(target, property, value, receiver) {\n      var base = superPropBase(target, property);\n      var desc;\n\n      if (base) {\n        desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.set) {\n          desc.set.call(receiver, value);\n          return true;\n        } else if (!desc.writable) {\n          return false;\n        }\n      }\n\n      desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n      if (desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        desc.value = value;\n        Object.defineProperty(receiver, property, desc);\n      } else {\n        defineProperty(receiver, property, value);\n      }\n\n      return true;\n    };\n  }\n\n  return set(target, property, value, receiver);\n}\n\nexport default function _set(target, property, value, receiver, isStrict) {\n  var s = set(target, property, value, receiver || target);\n\n  if (!s && isStrict) {\n    throw new Error('failed to set property');\n  }\n\n  return value;\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import side from './side'\r\n\r\nconst characteristicsOfHeroes = {\r\n  [side.USER]: { \r\n    Bowman: {\r\n      attack: 25,\r\n      defence: 25,\r\n      stepsRadius: 2,\r\n      attackRadius: 2,\r\n    },\r\n    Magician: {\r\n      attack: 10,\r\n      defence: 40,\r\n      stepsRadius: 1,\r\n      attackRadius: 4,\r\n    },\r\n    Swordsman: {\r\n      attack: 40,\r\n     defence: 10,\r\n      stepsRadius: 4,\r\n      attackRadius: 1,\r\n    },\r\n  },  \r\n  [side.COMP]: { \r\n    Daemon: {\r\n      attack: 10,\r\n      defence: 40,\r\n      stepsRadius: 1,\r\n      attackRadius: 4,\r\n    },\r\n    Undead: {\r\n      attack: 40,\r\n      defence: 10,\r\n      stepsRadius: 4,\r\n      attackRadius: 1,\r\n    },\r\n    Vampire: {\r\n      attack: 25,\r\n      defence: 25,\r\n      stepsRadius: 2,\r\n      attackRadius: 2,\r\n    },\r\n  }  \r\n};\r\n\r\nexport default characteristicsOfHeroes;\r\n","import Character from '../Character';\r\nimport heroesConfig from '../heroesCharacteristic';\r\nimport side from '../side';\r\n\r\nexport default class Bowman extends Character {\r\n  constructor(level) {\r\n    // const targetClassName = new.target.name;\r\n    let {\r\n      attack,\r\n      defence,\r\n      stepsRadius,\r\n      attackRadius,\r\n    } = heroesConfig[side.USER][\"Bowman\"];\r\n    let player = side.USER;\r\n    super(level, attack, defence, player, stepsRadius, attackRadius);\r\n    // super.type = targetClassName.toLowerCase();\r\n    super.type = \"bowman\" \r\n  }\r\n}\r\n","import Character from '../Character';\r\nimport heroesConfig from '../heroesCharacteristic';\r\nimport side from '../side';\r\n\r\nexport default class Daemon extends Character {\r\n  constructor(level) {\r\n    // const targetClassName = new.target.name;\r\n    let {\r\n      attack,\r\n      defence,\r\n      stepsRadius,\r\n      attackRadius,\r\n    } = heroesConfig[side.COMP][\"Daemon\"];\r\n    let player = side.COMP;\r\n    super(level, attack, defence, player, stepsRadius, attackRadius);\r\n    // super.type = targetClassName.toLowerCase();\r\n    super.type = \"daemon\" \r\n  }\r\n}","import Character from '../Character';\r\nimport heroesConfig from '../heroesCharacteristic';\r\nimport side from '../side';\r\n\r\nexport default class Magician extends Character {\r\n  constructor(level) {\r\n    // const targetClassName = new.target.name;\r\n    let {\r\n      attack,\r\n      defence,\r\n      stepsRadius,\r\n      attackRadius,\r\n    } = heroesConfig[side.USER][\"Magician\"];\r\n    let player = side.USER;\r\n    super(level, attack, defence, player, stepsRadius, attackRadius);\r\n    // super.type = targetClassName.toLowerCase();\r\n    super.type = \"magician\"\r\n  }\r\n}\r\n","import Character from '../Character';\r\nimport heroesConfig from '../heroesCharacteristic';\r\nimport side from '../side';\r\n\r\nexport default class Swordsman extends Character {\r\n  constructor(level) {\r\n    // const targetClassName = new.target.name;\r\n    let {\r\n      attack,\r\n      defence,\r\n      stepsRadius,\r\n      attackRadius,\r\n    } = heroesConfig[side.USER][\"Swordsman\"];\r\n    let player = side.USER;\r\n    super(level, attack, defence, player, stepsRadius, attackRadius);\r\n    // super.type = targetClassName.toLowerCase();\r\n    super.type = \"swordsman\"\r\n  }\r\n}\r\n","import Character from '../Character';\r\nimport heroesConfig from '../heroesCharacteristic';\r\nimport side from '../side';\r\n\r\nexport default class Undead extends Character {\r\n  constructor(level) {\r\n    // const targetClassName = new.target.name;\r\n    let {\r\n      attack,\r\n      defence,\r\n      stepsRadius,\r\n      attackRadius,\r\n    } = heroesConfig[side.COMP][\"Undead\"];\r\n    let player = side.COMP;\r\n    super(level, attack, defence, player, stepsRadius, attackRadius);\r\n    // super.type = targetClassName.toLowerCase();\r\n    super.type = \"undead\"\r\n  }\r\n}\r\n","import Character from '../Character';\r\nimport heroesConfig from '../heroesCharacteristic';\r\nimport side from '../side';\r\n\r\nexport default class Vampire extends Character {\r\n  constructor(level) {\r\n    // const targetClassName = new.target.name;\r\n    let {\r\n      attack,\r\n      defence,\r\n      stepsRadius,\r\n      attackRadius,\r\n    } = heroesConfig[side.COMP][\"Vampire\"];\r\n    let player = side.COMP;\r\n    super(level, attack, defence, player, stepsRadius, attackRadius);\r\n    // super.type = targetClassName.toLowerCase();\r\n    super.type = \"vampire\"\r\n  }\r\n}\r\n","export default class Team {\r\n  constructor() {\r\n    this.members = new Set();\r\n  }\r\n\r\n  add(member) {\r\n    this.members.add(member);\r\n  }\r\n\r\n  get toArray() {\r\n    return [...this.members];\r\n  }\r\n}\r\n","import Team from './Team';\r\nimport side from './side';\r\n/**\r\n * Generates random characters\r\n *\r\n * @param allowedTypes iterable of classes\r\n * @param maxLevel max character level\r\n * @returns Character type children (ex. Magician, Bowman, etc)\r\n */\r\nexport function characterGenerator(allowedTypes, maxLevel) {\r\n  // TODO: write logic here\r\n  const randomType = Math.floor(Math.random() * allowedTypes.length);\r\n  const randomLevel = Math.floor(Math.random() * maxLevel) + 1;\r\n  return new allowedTypes[randomType](randomLevel);\r\n}\r\n\r\nexport function generateTeam(allowedTypes, maxLevel, characterCount) {\r\n  // TODO: write logic here\r\n  const team = new Team();\r\n  for (let i = 0; i < characterCount; i += 1) {\r\n    team.add(characterGenerator(allowedTypes, maxLevel));\r\n  }\r\n  return team;\r\n}\r\n\r\n/**\r\n * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è\r\n * @param {*} player - –ò–≥—Ä–æ–∫ 'user' –∏–ª–∏ 'computer'\r\n * @returns –Ω–æ–º–µ—Ä –ø–æ–ª—è :number\r\n */\r\n export function startFieldGenerator(player, arr) {\r\n  const boardSize = 8;\r\n  const cellsCount = boardSize ** 2 - 1;\r\n  const validateCells = [];\r\n  const startCell = player === side.USER ? 0 : boardSize - 2;\r\n  for (let i = startCell; i <= cellsCount; i += boardSize) {\r\n    validateCells.push(i, i + 1);\r\n  }\r\n  const randomIndex = Math.floor(Math.random() * validateCells.length);\r\n  if (arr.some((el) => el == validateCells[randomIndex])) {\r\n    return startFieldGenerator(player, arr);\r\n  } else {\r\n    arr.push(validateCells[randomIndex]);\r\n    return validateCells[randomIndex];\r\n  }\r\n}\r\n\r\n// –î–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ —è—á–µ–π–∫–∏\r\n \r\n/**\r\n * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ö–æ–¥–∞\r\n * @param {number} index - –¢–µ–∫—É—â–µ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ\r\n * @param {number} radius - –†–∞–¥–∏—É—Å —Ö–æ–¥–∞\r\n * @returns {Array} - –ú–∞—Å—Å–∏–≤ —á–∏—Å–µ–ª\r\n */\r\nexport function getAvailableDistance(index, radius) {\r\n  const allowableSteps = new Set();\r\n  let topCell = index;\r\n  let bottomCell = index;\r\n  let leftCell = index;\r\n  let rightCell = index;\r\n\r\n  // –í–µ—Ä—Ö–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ\r\n  while (topCell > (index - radius * 8) && (topCell - 8) >= 0) {\r\n    topCell -= 8;\r\n  }\r\n\r\n  // –ù–∏–∂–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ\r\n  while (bottomCell < (index + radius * 8) && (bottomCell + 8) < 64) {\r\n    bottomCell += 8;\r\n  }\r\n\r\n  // –õ–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ\r\n  while (leftCell > index - radius && leftCell % 8 !== 0) {\r\n    leftCell -= 1;\r\n  }\r\n\r\n  // –ü—Ä–∞–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ\r\n  while (rightCell < index + radius && (rightCell + 1) % 8 !== 0) {\r\n    rightCell += 1;\r\n  }\r\n\r\n  // –°—Ç—Ä–æ–∫–∞\r\n  for (let i = leftCell; i <= rightCell; i += 1) {\r\n    allowableSteps.add(i);\r\n  }\r\n\r\n  // –°—Ç–æ–ª–±–µ—Ü\r\n  for (let i = topCell; i <= bottomCell; i += 8) {\r\n    allowableSteps.add(i);\r\n  }\r\n\r\n  // –í–µ—Ä—Ö–Ω—è—è –ª–µ–≤–∞—è –¥–∏–∞–≥–æ–Ω–∞–ª—å\r\n  for (let i = index; i >= (index - radius * 9); i -= 9) {\r\n    allowableSteps.add(i);\r\n    if (i % 8 === 0 || (i - 8) < 0) break;\r\n  }\r\n\r\n  // –ü—Ä–∞–≤–∞—è –Ω–∏–∂–Ω—è—è –¥–∏–∞–≥–æ–Ω–∞–ª—å\r\n  for (let i = index; i <= (index + radius * 9); i += 9) {\r\n    allowableSteps.add(i);\r\n    if ((i + 1) % 8 === 0 || (i + 8) > 64) break;\r\n  }\r\n\r\n  // –ü—Ä–∞–≤–∞—è –≤–µ—Ä—Ö–Ω—è—è –¥–∏–∞–≥–æ–Ω–∞–ª—å\r\n  for (let i = index; i >= (index - 7 * radius); i -= 7) {\r\n    allowableSteps.add(i);\r\n    if ((i + 1) % 8 === 0 || (i - 7) < 0) break;\r\n  }\r\n\r\n  // –ù–∏–∂–Ω—è—è –ª–µ–≤–∞—è –¥–∏–∞–≥–æ–Ω–∞–ª—å\r\n  for (let i = index; i <= (index + radius * 7); i += 7) {\r\n    allowableSteps.add(i);\r\n    if (i % 8 === 0 || (i + 7) >= 64) break;\r\n  }\r\n\r\n  return [...allowableSteps].filter((num) => num !== index); // –ò–∑–±–∞–≤–ª—è–µ–º—Å—è –æ—Ç –∫–ª–µ—Ç–∫–∏ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —Å—Ç–æ–∏—Ç –≥–µ—Ä–æ–π\r\n}\r\n\r\n/**\r\n * –°—á–∏—Ç–∞–µ—Ç —Ä–∞–¥–∏—É—Å –∞—Ç–∞–∫–∏\r\n * @param {*} index - –ù–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–π —è—á–µ–π–∫–∏\r\n * @param {*} radius - –†–∞–¥–∏—É—Å –∞—Ç–∞–∫–∏\r\n * @returns\r\n */\r\nexport function getAvailableAttack(index, radius) {\r\n  const allowableAttack = new Set();\r\n  let leftCell = index;\r\n  let rightCell = index;\r\n  let startCell = null;\r\n\r\n  // –õ–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ\r\n  while (leftCell > index - radius && leftCell % 8 !== 0) {\r\n    leftCell -= 1;\r\n  }\r\n  // –ü—Ä–∞–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ\r\n  while (rightCell < index + radius && (rightCell + 1) % 8 !== 0) {\r\n    rightCell += 1;\r\n  }\r\n  // –û–±—â–µ–µ\r\n  startCell = leftCell;\r\n  while (startCell <= rightCell) {\r\n    let topValues = startCell;\r\n    let bottomValues = startCell;\r\n    allowableAttack.add(startCell);\r\n    // –í–µ—Ä—Ö–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ\r\n    while (topValues > startCell - radius * 8 && topValues - 8 >= 0) {\r\n      topValues -= 8;\r\n      allowableAttack.add(topValues);\r\n    }\r\n\r\n    // –ù–∏–∂–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ\r\n    while (bottomValues < startCell + radius * 8 && bottomValues + 8 < 64) {\r\n      bottomValues += 8;\r\n      allowableAttack.add(bottomValues);\r\n    }\r\n    startCell += 1;\r\n  }\r\n  return [...allowableAttack];\r\n}","/* eslint-disable max-len */\r\nimport themes from './themes';\r\nimport cursors from './cursors';\r\nimport side from './side';\r\nimport GameState from './GameState';\r\nimport PositionedCharacter from './PositionedCharacter';\r\nimport Bowman from './Heroes/Bowman';\r\nimport Daemon from './Heroes/Daemon';\r\nimport Magician from './Heroes/Magician';\r\nimport Swordsman from './Heroes/Swordsman';\r\nimport Undead from './Heroes/Undead';\r\nimport Vampire from './Heroes/Vampire';\r\nimport {\r\n  generateTeam,\r\n  startFieldGenerator,\r\n  getAvailableDistance,\r\n  getAvailableAttack,\r\n} from './generators';\r\n\r\n// –¢–∏–ø—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\r\nconst userTypes = [Swordsman, Bowman, Magician];\r\nconst computerTypes = [Daemon, Undead, Vampire];\r\n\r\nexport default class GameController {\r\n  constructor(gamePlay, stateService) {\r\n    this.gamePlay = gamePlay;\r\n    this.stateService = stateService;\r\n    this.gameState = null; // –ê–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã\r\n  }\r\n\r\n  /**\r\n   * –°—Ç–∞—Ä—Ç –∏–≥—Ä—ã\r\n   */\r\n  init() {\r\n    this.loadGame();\r\n  }\r\n\r\n  checkCell() {\r\n    // –°–æ–±—ã—Ç–∏—è –º—ã—à–∏ –Ω–∞ —è—á–µ–π–∫–µ\r\n    this.gamePlay.addCellEnterListener(this.onCellEnter.bind(this));\r\n    this.gamePlay.addCellLeaveListener(this.onCellLeave.bind(this));\r\n    this.gamePlay.addCellClickListener(this.onCellClick.bind(this));\r\n    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä—ã\r\n    this.gamePlay.addSaveGameListener(this.saveGame.bind(this));\r\n    // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã\r\n    this.gamePlay.addLoadGameListener(this.loadGame.bind(this));\r\n    // –ù–æ–≤–∞—è –∏–≥—Ä–∞\r\n    this.gamePlay.addNewGameListener(this.newGame.bind(this));\r\n  }\r\n\r\n  /**\r\n   * –î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ\r\n   * @param {*} index * –∏–Ω–¥–µ–∫—Å —è—á–µ–π–∫–∏ –ø–æ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–∏–∑–æ—à–µ–ª –∫–ª–∏–∫\r\n   * @returns -\r\n   */\r\n  onCellClick(index) {\r\n   // –ù–∞—Ö–æ–¥–∏–º –∏–∑ –≤—Å–µ—Ö —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö obj –∏–Ω—Ñ. –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏–≥—Ä—ã –∑–∞–ø–∏—Å–∞–Ω—ã–π –≤ (this.gameState.teams) —Ç–æ–≥–æ –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –≤—ã–±—Ä–∞–ª–∏.\r\n    const hero = this.gameState.teams.find((elem) => elem.position === index);\r\n    if (hero && hero.character.player === side.USER) { // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–∂–∞–ª–∏ –Ω–∞ –≥–µ—Ä–µ–æ—è –∏ —Ö–æ–¥–∏—Ç –ª–∏ –∏–≥—Ä–æ–∫ –∏–ª–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä \r\n      //–î–ª—è –∏–≥—Ä–æ–∫–∞ \r\n      if (this.gameState.selectedHero) this.gamePlay.deselectCell(this.gameState.selectedHero.position); // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—ã–±—Ä–∞–Ω –ª–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂ (–ø–æ–¥—Å–≤–µ—á–µ–Ω—ã–π –∂–µ–ª—Ç—ã–º —Ü–≤–µ—Ç–æ–º) –ø–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –µ–≥–æ –º—ã—à–∏ \r\n      this.gamePlay.selectCell(index); // –ú–µ—Ç–æ–¥ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –∏–≥—Ä–æ–∫–∞ –∂–µ–ª—Ç—ã–º —Ü–≤–µ—Ç–æ–º –Ω–∞ –∏–≥—Ä–æ–≤–æ–º –ø–æ–ª–µ \r\n      this.gameState.availableSteps = getAvailableDistance(index, hero.character.stepsRadius); // –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∑–æ–Ω–∞ –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –∏–≥—Ä–æ–∫ –º–æ–∂–µ—Ç —Ö–æ–¥–∏—Ç—å –ø–æ –∏–≥—Ä–æ–≤–æ–º—É –ø–æ–ª—é, –∑–∞ 1 —Ö–æ–¥. –í–æ–∑—Ä–∞—à–∞–µ—Ç –Ω–æ–º–µ—Ä–∞ —è—á–µ–µ–∫ –∑–æ–Ω—ã.\r\n      this.gameState.availableAttack = getAvailableAttack(index, hero.character.attackRadius); // –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è –∞—Ç–∞–∫–∏ –∏–≥—Ä–æ–∫–∞ \r\n      this.gameState.selectedHero = hero; // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–ª–∏ –ø–µ—Ä–µ—Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–∫—Ç –≤—ã–±–æ—Ä–∞ –≥–µ—Ä–æ—è (–ø–æ–¥—Å–≤–µ—á–µ–Ω—ã–π –∂–µ–ª—Ç—ã–º —Ü–≤–µ—Ç–æ–º) –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –Ω–µ–≥–æ. \r\n      return;\r\n    }\r\n\r\n    // –•–æ–¥. –ö–ª–∏–∫ –≤ –ø—É—Å—Ç–æ–µ –ø–æ–ª–µ\r\n    if (this.gameState.selectedHero) {\r\n      // –í—ã–±—Ä–∞–Ω–Ω–∞—è —è—á–µ–π–∫–∞ –≤—Ö–æ–¥–∏—Ç –≤ –¥–æ–ø—É—Å–∫ –∑–æ–Ω—ã –ø–µ—Ä–µ–º–µ—à–µ–Ω–∏—è –≥–µ—Ä–æ—è –∏ –≤ –Ω–µ–º –Ω–µ—Ç –≥–µ—Ä–æ—è\r\n      if (this.gameState.availableSteps.includes(index) && !hero) {\r\n        this.gamePlay.deselectCell(this.gameState.selectedHero.position); // –£–¥–∞–ª—è–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É –∂–µ–ª—Ç–æ–≥–æ —Ü–≤–µ—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—É—é –Ω–∞ –∏–≥—Ä–æ–∫–µ –∏ –ø–æ–¥—Å–≤–µ—Ç–∫—É –∑–µ–ª–µ–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –∫—É–¥–∞ –∏–≥—Ä–æ–∫ –±—É–¥–µ—Ç —Ö–æ–¥–∏—Ç—å.\r\n        this.gameState.selectedHero.position = index; // –ú–µ–Ω—è–µ–º –ø–æ–∑–∏—Ü–∏—é –∏–≥—Ä–æ–∫–∞ –Ω–∞ –∏–≥—Ä–æ–≤–æ–º –ø–æ–ª–µ. –ö—É–¥–∞ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—Å—è –∏–∫–æ–Ω–∫–∞ –∏–≥—Ä–æ–∫–∞ –Ω–∞ –ø–æ–ª–µ. \r\n        this.gamePlay.deselectCell(index);// –£–¥–∞–ª—è–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É –∑–µ–ª–µ–Ω–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞.\r\n        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —É—Ä–æ–≤–Ω—è –∏ –ø–µ—Ä–µ–¥–∞—á–∞ —Ö–æ–¥–∞\r\n        this.checkLevel();\r\n      }\r\n      // –ï—Å–ª–∏ –≤ –ø–æ–ª–µ –µ—Å—Ç—å –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫ –∞—Ç–∞–∫—É–µ–º\r\n      if (hero && hero.character.player === side.COMP && this.gameState.availableAttack.includes(index)) {\r\n        this.attack(hero, this.gameState.selectedHero, index);\r\n      }\r\n      // –°–æ–æ–±—â–µ–Ω–∏–µ\r\n      if (hero && hero.character.player === side.COMP && !this.gameState.availableAttack.includes(index)) {\r\n        this.gamePlay.showPopup('–ù—É–∂–Ω–æ –ø–æ–¥–æ–π—Ç–∏ –±–ª–∏–∂–µ');\r\n      }\r\n      return;\r\n    }\r\n    // –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ\r\n    if (!this.gameState.selectedHero && hero && hero.character.player === side.COMP) {\r\n      let { type } = hero.character;\r\n      type = type[0].toUpperCase() + type.slice(1);\r\n      this.gamePlay.showPopup(`–≠—Ç–æ ${type}! –û–Ω —è–≤–Ω–æ –Ω–µ –∏–∑ –Ω–∞—à–∏—Ö!`);\r\n    }\r\n\r\n    // if (!this.gameState.selectedHero && !hero) {\r\n    //   // GamePlay.showError('–¢—É—Ç –Ω–∏–∫–æ–≥–æ –Ω–µ—Ç');\r\n    //   this.gamePlay.showPopup('–¢—É—Ç –Ω–∏–∫–æ–≥–æ –Ω–µ—Ç');\r\n    // }\r\n  }\r\n\r\n  /**\r\n   * –î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ —É—Ö–æ–¥–µ —Å —è—á–µ–π–∫–∏\r\n   * @param {*} index - –∏–Ω–¥–µ–∫—Å —è—á–µ–π–∫–∏\r\n   */\r\n  onCellLeave(index) {\r\n    // –£–±–∏—Ä–∞–µ–º —Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–æ \"–ø—Ä–∏–º–µ—Ä(üéñ 1 ‚öî 25 üõ° 25 ‚ù§ 100)\r\n    this.gamePlay.hideCellTooltip(index);\r\n    // –£—Å–ª–æ–≤–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω—ã–π –≥–µ—Ä–æ–π (–≥–µ—Ä–æ–π –ø–æ–¥—Å–≤–µ—á–µ–Ω–Ω—ã–π –∂–µ–ª—Ç—ã–º —Ü–≤–µ—Ç–æ–º) –Ω–µ —Å—Ö–æ–¥–∏–ª —Ç–æ –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ —Å–≤–æ–µ–º –º–µ—Å—Ç–µ –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞ –≥–µ—Ä–æ–π –Ω–µ —Å—Ö–æ–¥–∏—Ç.\r\n    if (this.gameState.selectedHero && (this.gameState.selectedHero.position !== index)) {\r\n      this.gamePlay.deselectCell(index);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —è—á–µ–π–∫—É\r\n   * @param {*} index - –∏–Ω–¥–µ–∫—Å —è—á–µ–π–∫–∏\r\n   */\r\n  onCellEnter(index) {\r\n    // –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ obj –∏–Ω—Ñ –æ –≥–µ—Ä–æ—è—Ö –∏—Ö –ø–æ–∑–∏—Ü–∏—é —Å —Ä–µ–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–µ–π –Ω–∞ –∏–≥—Ä. –ø–æ–ª–µ. –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–∞ —ç—Ç–æ–π —è—á–µ–∫–∏ –∏–≥—Ä. –ø–æ–ª—è –≥–µ—Ä–æ—è —Ç–æ –≤–æ–∑—Ä–∞—à–µ–º obj –∏–Ω—Ñ –æ –≥–µ—Ä–æ–µ\r\n    const hero = this.gameState.teams.find((elem) => elem.position === index);\r\n    \r\n    if (hero) { //–ï—Å–ª–∏ –≥–µ—Ä–æ–π –µ—Å—Ç—å –Ω–∞ —è—á–µ–π–∫–∏ —Ç–æ —Å–æ–∑–¥–∞—ë–º –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ –ø–æ –Ω–∞–≤–µ–¥–µ–Ω–∏—é —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ \"–ø—Ä–∏–º–µ—Ä(üéñ 1 ‚öî 25 üõ° 25 ‚ù§ 100)\" –∏ –Ω–æ–º–µ—Ä –∫–ª–µ—Ç–∫–∏ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –≤ showCellTooltip\r\n      const toolTip = this.constructor.createToolTipTemplate.call(this, hero);\r\n      this.gamePlay.showCellTooltip(toolTip, index);\r\n    }\r\n    // –ú–µ–Ω—è–µ–º —Ç–∏–ø –∫—É—Ä—Å–æ—Ä–∞,–µ—Å–ª–∏ –Ω–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\r\n    this.activeCursor(hero);\r\n\r\n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –±—ã–ª –ª–∏ –≤—ã–±—Ä–∞–Ω –ø–µ—Ä—Å–æ–Ω–∞–∂(–≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –æ–±–∑–Ω. –∂–µ–ª—Ç—ã–º —Ü–≤–µ—Ç–æ–º) –Ω–∞ –∏–≥—Ä. –ø–æ–ª–µ. –ï—Å–ª–∏ –¥–∞ —Ç–æ –≤–æ–∑–ª–µ –≥–µ—Ä–æ—è –ø–æ –Ω–∞–≤–µ–¥–µ–Ω–∏—é –Ω–∞ —è—á–µ–π–∫—É –∏–≥—Ä. –ø–æ–ª—è –ø–æ—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –æ–±–ª–∞—Å—Ç—å –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –µ–≥–æ —Ö–æ–¥–∞.  \r\n    if (this.gameState.selectedHero) {\r\n      this.activeCursorSelectedHero(index, hero);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –§–æ—Ä–º–∏—Ä—É–µ—Ç —à–∞–±–ª–æ–Ω –≤—Å–ø–ª—ã–≤–∞—é—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ\r\n   * @param {*} hero - –æ–±—ä–µ–∫—Ç —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\r\n   * @returns - —à–∞–±–ª–æ–Ω (—Å—Ç—Ä–æ–∫–∞)\r\n   */\r\n  static createToolTipTemplate(hero) {\r\n    const {\r\n      level,\r\n      health,\r\n      attack,\r\n      defence,\r\n    } = hero.character;\r\n    return `\\u{1F396} ${level} \\u{2694} ${attack} \\u{1F6E1} ${defence} \\u{2764} ${health}`;\r\n  }\r\n\r\n  /**\r\n   * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫—É—Ä—Å–æ—Ä, –µ—Å–ª–∏ –Ω–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\r\n   * @param {*} hero - –æ–±—ä–µ–∫—Ç —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\r\n   */\r\n  activeCursor(hero) {\r\n    if (hero) {\r\n      const pointer = hero.character.player === side.USER ? cursors.pointer : cursors.notallowed; // –£—Å–ª–æ–≤–∏–µ –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∫–æ–π —Ç–∏–ø –∫—É—Ä—Å–æ—Ä–∞ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å, –µ—Å–ª–∏ –Ω–∞–≤–µ–ª–∏ –Ω–∞ –∏–≥—Ä–æ–∫–∞ —Ç–æ pointer, –µ—Å–ª–∏ –Ω–∞ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ —Ç–æ notallowed\r\n      this.gamePlay.setCursor(pointer); //–ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –∏–∑ –∏–≥—Ä–æ–≤—ã—Ö –∫—É—Ä—Å–æ—Ä–æ–≤.\r\n    } else {\r\n      this.gamePlay.setCursor(cursors.auto); // –ö—É—Ä—Å–æ—Ä –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫—É—Ä—Å–æ—Ä)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ò–∑–º–µ–Ω—è–µ—Ç —Ç–∏–ø–∞ –∫—É—Ä—Å–æ—Ä–∞ –∏ –ø–æ–¥—Å–≤–µ—Ç–∫—É —è—á–µ–π–∫–∏ —Ö–æ–¥–∞/–∞—Ç–∞–∫–∏ –ø—Ä–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–µ\r\n   * @param {*} index - –∏–Ω–¥–µ–∫—Å —è—á–µ–π–∫–∏\r\n   * @param {*} hero - –æ–±—ä–µ–∫—Ç —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\r\n   */\r\n  activeCursorSelectedHero(index, hero) {\r\n    if (this.gameState.availableSteps.includes(index) && !hero) { //–ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω–∞—è –∫–ª–µ—Ç–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –≤—Ö–æ–¥–∏—Ç –≤ –æ–±–ª–∞—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ —Ö–æ–¥–∞ –∏–≥—Ä–æ–∫–∞ –∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å—É—à–Ω–æ—Å—Ç–∏ –∏–≥—Ä–æ–∫ –∏–ª–∏ –ò–ò –∏–ª–∏ –ø—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ –≤ —ç—Ç–æ–π –∫–ª–µ—Ç–∫–∏. \r\n      this.gamePlay.setCursor(cursors.pointer); // –º–µ–Ω—è–µ–º —Ç–∏–ø –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ 'pointer'\r\n      this.gamePlay.selectCell(index, 'green'); // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–ª–µ—Ç–∫—É –∑–µ–ª–µ–Ω–Ω—ã–π —Ü–≤–µ—Ç–æ–º –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –∏–≥—Ä–æ–∫. (–∫—É—Ä—Å–æ—Ä –≤–≤–∏–¥–µ –∑–µ–ª–µ–Ω–æ–≥–æ –∫—Ä—É–≥–∞ –≤–ø–∏—Å–∞–Ω–æ–≥–æ –≤ –∫–ª–µ—Ç–∫—É –∏–≥—Ä. –ø–æ–ª—è)\r\n    } else if (hero && hero.character.player === side.COMP && this.gameState.availableAttack.includes(index)) {\r\n      this.gamePlay.setCursor(cursors.crosshair);\r\n      this.gamePlay.selectCell(index, 'red');\r\n    } else if (hero && hero.character.player === side.USER) {\r\n      this.gamePlay.setCursor(cursors.pointer);\r\n    } else {\r\n      this.gamePlay.setCursor(cursors.notallowed);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä—ã\r\n   */\r\n  saveGame() {\r\n    this.stateService.save(this.gameState);\r\n    // GamePlay.showMessage('–ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞');\r\n    this.gamePlay.showPopup('–ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞');\r\n  }\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π –∏–≥—Ä—ã, –µ—Å–ª–∏ —Ç–∞–∫–∞—è –µ—Å—Ç—å\r\n   */\r\n  loadGame() {\r\n    // –ß—Ç–æ–±—ã –Ω–µ –¥–æ–±–∞–≤–ª—è–ª–∏—Å—å –ª–∏—à–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã\r\n    if (this.gamePlay.cellClickListeners.length === 0) {\r\n      this.checkCell();\r\n    }\r\n    try {\r\n      const load = this.stateService.load(); //–í–æ–∑–≤—Ä–∞—â–∞–µ–º Obj –∏–∑–≤–ª–µ—á–µ–Ω–Ω–æ–≥–æ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ–π —Ç—É–¥–∞ –¥–∞–Ω–Ω—ã—Ö —Å –∏–≥—Ä–æ–π  \r\n      // const load = {\r\n      //   availableAttack: null,\r\n      //   availableSteps: null,\r\n      //   motion: \"user\",\r\n      //   scores: 0,\r\n      //   selectedHero: null,\r\n      //   stage: 1,\r\n      //   teams: [{\r\n      //     character: {\r\n      //       attack: 10,\r\n      //       attackRadius: 4,\r\n      //       defence: 40,\r\n      //       health: 100,\r\n      //       level: 1,\r\n      //       player: \"user\",\r\n      //       stepsRadius: 1,\r\n      //       type: \"magician\"\r\n      //     },\r\n      //     position: 49\r\n      //   }, {\r\n      //     character: {\r\n      //       attack: 25,\r\n      //       attackRadius: 2,\r\n      //       defence: 25,\r\n      //       health: 100,\r\n      //       level: 1,\r\n      //       player: \"user\",\r\n      //       stepsRadius: 2,\r\n      //       type: \"bowman\"\r\n      //     },\r\n      //     position: 0\r\n      //   }, {\r\n      //     character: {\r\n      //       attack: 25,\r\n      //       attackRadius: 2,\r\n      //       defence: 25,\r\n      //       health: 100,\r\n      //       level: 1,\r\n      //       player: \"computer\",\r\n      //       stepsRadius: 2,\r\n      //       type: \"vampire\"\r\n      //     },\r\n      //     position: 46\r\n      //   }, {\r\n      //     character: {\r\n      //       attack: 25,\r\n      //       attackRadius: 2,\r\n      //       defence: 25,\r\n      //       health: 100,\r\n      //       level: 1,\r\n      //       player: \"computer\",\r\n      //       stepsRadius: 2,\r\n      //       type: \"vampire\"\r\n      //     },\r\n      //     position: 7\r\n      //   }]\r\n      // }\r\n      if (load) {\r\n        this.gameState = GameState.from(load); //–ü–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º load –∏ –≤–æ–∑—Ä–∞—à–∞–µ–º –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã –∏ –≤–æ–∑—Ä–∞—à–∞–µ–º this.gameState(Obj)\r\n        this.gamePlay.drawUi(Object.values(themes)[this.gameState.stage - 1]); //–ü–æ–ª—É—á–∞–µ–º –º–∞—Å—Å–∏–≤ –∏–∑ 63 —è—á–µ–µ–∫ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –∑–∞–ø–∏—Å–∞–≤ –∏—Ö –≤ GamePlay.this.cells –∏ childNodes:(–ø—Å–µ–≤–¥–æ –º–∞—Å—Å–∏–≤) GamePlay.this.boardEl\r\n        this.gamePlay.redrawPositions(this.gameState.teams); //–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä. –∫–∞—Ä—Ç–∞ —Å –∏–≥—Ä–æ–∫–∞–º–∏ \r\n      } else {\r\n        this.newGame();\r\n      }\r\n    } catch (error) {\r\n      // localStorage.removeItem('state');\r\n      this.constructor.clearLocalStorage('state');\r\n      this.gamePlay.showPopup(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: \"${error.message}\"`);\r\n      this.newGame();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ù–æ–≤–∞—è –∏–≥—Ä–∞ —Å–Ω–∞—á–∞–ª–∞\r\n   */\r\n  newGame() {\r\n    if (this.gamePlay.cellClickListeners.length === 0) {\r\n      this.gamePlay.addCellClickListener(this.onCellClick.bind(this));\r\n    }\r\n    const totalScores = this.gameState ? this.gameState.scores : 0;\r\n    this.gameState = new GameState(1, [], side.USER, totalScores);\r\n    this.nextStage(this.gameState.stage);\r\n  }\r\n\r\n  /**\r\n   * –ü–µ—Ä–µ—Ö–æ–¥ —Ö–æ–¥–∞\r\n   */\r\n  nextPlayer() {\r\n    this.gameState.motion = (this.gameState.motion === side.USER) ? side.COMP : side.USER; // –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫—Ç–æ —Ö–æ–¥–∏—Ç —á–µ–ª–æ–≤–µ–∫ –∏–ª–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä\r\n    // console.log('–•–æ–¥ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫:', this.gameState.motion);\r\n    if (this.gameState.motion === side.COMP) {\r\n      this.computerLogic(); // –õ–æ–≥–∏–∫–∞ —Ö–æ–¥–∞ –∏ –∞—Ç–∞–∫–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞\r\n    }\r\n    this.gameState.clear();\r\n  }\r\n\r\n  /**\r\n   * –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —É—Ä–æ–≤–Ω—è\r\n   */\r\n  checkLevel() {\r\n    const userValue = this.gameState.teams.some((member) => member.character.player === side.USER);// –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å–ª–∏ —ç—Ç–æ –≥–µ—Ä–æ–π –≤ —Å–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  –≤–æ–∑—Ä–∞—à–∞–µ–º –ª–æ–≥–∏—á –∑–Ω–∞—á.\r\n    const computerValue = this.gameState.teams.some((member) => member.character.player === side.COMP);//  –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å–ª–∏ —ç—Ç–æ –≥–µ—Ä–æ–π –≤ —Å–ø–∏—Å–∫–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞(–ò–ò) –≤–æ–∑—Ä–∞—à–∞–µ–º –ª–æ–≥–∏—á –∑–Ω–∞—á.\r\n    if (userValue && computerValue) {\r\n      this.nextPlayer(); //  –ü–µ—Ä–µ–¥–∞—á–∞ —Ö–æ–¥–∞. –ï—Å–ª–∏ —Ö–æ–¥–∏—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä(–ò–ò) —Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ª–æ–≥–∏–∫—É –¥–µ–π—Å–≤–∏–π –∫–æ–º–ø—å—é—Ç–µ—Ä(–ò–ò). –ü–æ—Å–ª–µ –ø–µ—Ä–µ–¥–∞—á–∏ —Ö–æ–¥–∞ –∏–≥—Ä–æ–∫—É —É–¥–∞–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –æ–±–ª–∞—Å—Ç—å –∞—Ç–∞–∫–∏, –æ–±–ª–∞—Å—Ç—å —Ö–æ–¥–∞ –≥–µ—Ä–æ—è.  \r\n      return;\r\n    }\r\n    if (!computerValue) {\r\n      this.gameState.clear(); // –û—á–∏—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —à–∞–≥–æ–≤ –∏ –∞—Ç–∞–∫–∏\r\n      this.gameState.addScores(); // –°—á–∏—Ç–∞–µ—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –æ—á–∫–∏ –∑–∞ —Ä–∞—É–Ω–¥\r\n      this.nextStage(this.gameState.stage += 1); \r\n    }\r\n    if (!userValue) {\r\n      // GamePlay.showMessage('–í—Ä–∞–≥ –æ–∫–∞–∑–∞–ª—Å—è —Ö–∏—Ç—Ä–µ–µ –∏ —Å–∏–ª—å–Ω–µ–µ(((');\r\n      this.gamePlay.showPopup('–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å\r\n   * @param {number} stage - –ù–æ–º–µ—Ä —É—Ä–æ–≤–Ω—è\r\n   */\r\n  nextStage(stage) {\r\n    if (stage === 1) {\r\n      this.constructor.teamGeneration.call(this, userTypes, side.USER, 1, 2);\r\n      this.constructor.teamGeneration.call(this, computerTypes, side.COMP, 1, 2);\r\n    }\r\n\r\n    if (stage > 1 && stage < 5) {\r\n      // –ü–æ–≤—ã—à–∞–µ–º —É—Ä–æ–≤–µ–Ω—å –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è\r\n      this.constructor.levelUp.call(this);\r\n      // + –∫ –∫–æ–º–∞–Ω–¥–µ user\r\n      const count = (stage === 2) ? 1 : 2;\r\n      this.constructor.teamGeneration.call(this, userTypes, side.USER, stage - 1, count);\r\n      // –Ω–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –∫–æ–º–ø–∞\r\n      const userCount = this.gameState.teams.filter((member) => member.character.player === side.USER).length;\r\n      this.constructor.teamGeneration.call(this, computerTypes, side.COMP, stage, userCount);\r\n      this.gamePlay.showPopup(`–£—Ä–æ–≤–µ–Ω—å ${stage} –°—á–µ—Ç: ${this.gameState.scores}`);\r\n    }\r\n\r\n    if (stage >= 5) {\r\n      // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—è\r\n      this.gamePlay.cellClickListeners.length = 0;\r\n      // GamePlay.showMessage(`–ü–æ–±–µ–¥–∞! –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞. –°—á–µ—Ç: ${this.gameState.scores}`);\r\n      this.gamePlay.showPopup(`–ü–æ–±–µ–¥–∞! –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞. –°—á–µ—Ç: ${this.gameState.scores}`);\r\n    } else {\r\n      this.gamePlay.drawUi(Object.values(themes)[this.gameState.stage - 1]);\r\n      this.gamePlay.redrawPositions(this.gameState.teams);\r\n      // this.gamePlay.showPopup(`–£—Ä–æ–≤–µ–Ω—å ${stage} –°—á–µ—Ç: ${this.gameState.scores}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ê—Ç–∞–∫–∞, —Ä–∞—Å—á–µ—Ç, –≤—ã–¥–µ–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–≥–∏–±—à–µ–≥–æ –≥–µ—Ä–æ—è\r\n   */\r\n  async attack(attacked, attacker, indexAttacked) {\r\n    // –ó–Ω–∞—á–µ–Ω–∏–µ –∞—Ç–∞–∫–∏ –∞—Ç–∞–∫—É—é—â–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞\r\n    const { attack } = attacker.character;\r\n    // –ó–Ω–∞—á–µ–Ω–∏–µ –∑–∞—â–∏—Ç—ã –∞—Ç–∞–∫—É–µ–º–æ–≥–æ\r\n    const { defense } = attacked.character;\r\n    // –ê—Ç–∞–∫—É–µ–º—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂\r\n    const attackedUnit = attacked.character;\r\n    // –£—Ä–æ–Ω –æ—Ç –∞—Ç–∞–∫–∏\r\n    const damage = 2 * Math.round(Math.max((attack - defense, attack * 0.1)));\r\n    attackedUnit.health -= damage;\r\n    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–±–∏—Ç –ª–∏ –≥–µ—Ä–æ–π\r\n    if (attacked.character.health <= 0) {\r\n      this.gameState.removeHero(indexAttacked);\r\n    }\r\n    // –í—ã–¥–µ–ª—è–µ–º –∞—Ç–∞–∫—É—é—â–µ–≥–æ –∏ –∞—Ç–∞–∫—É–µ–º–æ–≥–æ –≥–µ—Ä–æ—è\r\n    this.gamePlay.selectCell(attacker.position);\r\n    this.gamePlay.selectCell(attacked.position, 'red');\r\n    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–µ\r\n    this.gamePlay.redrawPositions(this.gameState.teams);\r\n    // –ß—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è —è—á–µ–µ–∫ –ø—Ä–∏ –∞–Ω–∏–º–∞—Ü–∏–∏\r\n    this.gameState.selectedHero = null;\r\n    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —É—Ä–æ–≤–µ–Ω—å —É—Ä–æ–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏–µ–π\r\n    await this.gamePlay.showDamage(indexAttacked, damage);\r\n    // –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å –∞—Ç–∞–∫—É—é—â–µ–≥–æ –∏ –∞—Ç–∞–∫—É–µ–º–æ–≥–æ –≥–µ—Ä–æ—è\r\n    this.gamePlay.deselectCell(attacker.position);\r\n    this.gamePlay.deselectCell(attacked.position);\r\n    this.checkLevel();\r\n  }\r\n\r\n  /**\r\n   * –õ–æ–≥–∏–∫–∞ —Ö–æ–¥–∞ –∏ –∞—Ç–∞–∫–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞\r\n   */\r\n  computerLogic() {\r\n    const { teams } = this.gameState;\r\n    const computerTeams = teams.filter((member) => member.character.player === side.COMP); // –æ—Ç—Å–æ—Ä–∏—Ç—Ä—É–µ–º –≥–µ—Ä–æ–µ–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞(–ò–ò)\r\n    const userTeams = teams.filter((member) => member.character.player === side.USER);// –æ—Ç—Å–æ—Ä–∏—Ç—Ä—É–µ–º –≥–µ—Ä–æ–µ–≤ –∏–≥—Ä–æ–∫–∞\r\n    const arr2 = teams.map((el) => el.position);\r\n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞—Ç–∞–∫–∏\r\n    const attack = computerTeams.some((compUnit) => {\r\n      this.gameState.availableAttack = getAvailableAttack(compUnit.position, compUnit.character.attackRadius); // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∑–æ–Ω—É –∞—Ç–∞–∫–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤(–ò–ò) \r\n      const attacked = userTeams.find((userUnit) => this.gameState.availableAttack.includes(userUnit.position)); // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –∏–≥—Ä–æ–∫ –≤ –∑–æ–Ω–µ –ø–æ—Ä–∞–∂–µ–Ω–∏—è –∞—Ç–∞–∫–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞(–ò–ò) \r\n      if (attacked) {\r\n        this.attack(attacked, compUnit, attacked.position); // \r\n        return true; // –ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∑–æ–Ω–µ –ø–æ—Ä–∞–∂–µ–Ω–∏—è –∞—Ç–∞–∫–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞(–ò–ò) –≤–æ–∑–≤—Ä–∞—â–∞–µ–º true\r\n      }\r\n      return false; // –ï—Å–ª–∏ –Ω–µ—Ç —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º false\r\n    });\r\n    // –•–æ–¥ computer\r\n    if (!attack && computerTeams.length && userTeams.length) { // –£—Å–ª–æ–≤–∏–µ –µ—Å–ª–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä(–ò–ò) –Ω–µ –º–æ–∂–µ—Ç –∞—Ç–∞–∫–æ–≤–∞—Ç—å –∏ –µ—Å–ª–∏ –∂–∏–≤—ã–µ –≥–µ—Ä–æ–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä(–ò–ò) –∏ –∂–∏–≤—ã–µ –≥–µ—Ä–æ–∏ –ò–≥—Ä–æ–∫–∞\r\n      const unit = Math.floor(Math.random() * computerTeams.length); // –ö—Ç–æ –±—É–¥–µ—Ç —Ö–æ–¥–∏—Ç—å –∏–∑ –≥–µ—Ä–æ–µ–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞(–ò–ò) (–°–ª—É—á–∞–π–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–æ–º–µ—Ä –≥–µ—Ä–æ—è –∫–æ–º–ø—å—é—Ç–µ—Ä–∞(–ò–ò) –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ö–æ–¥–∏—Ç—å)\r\n      const steps = getAvailableDistance(computerTeams[unit].position, computerTeams[unit].character.stepsRadius).filter((x) => teams.map((el) => el.position).indexOf(x) < 0); // –û–ø—Ä–µ–¥–µ–ª–∏–º –∑–æ–Ω—É –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –¥–ª—è —à–∞–≥–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞(–ò–ò) –ø–æ –∏–≥—Ä. –∫–∞—Ä—Ç–µ \r\n      const step = Math.floor(Math.random() * steps.length); // –†—ç–Ω–¥–æ–º–Ω–æ–≥–æ –ø–æ–ª—É—á–∞–µ–º –∏–Ω–¥–µ–∫—Å –∏–∑ –º–∞—Å—Å–∏–≤–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –µ–≥–æ –≤ –∫–∞—á–µ—Å–≤–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞(–ò–ò)\r\n      computerTeams[unit].position = steps[step]; // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞ –∫–∞–∫—É—é –∫–ª–µ—Ç–∫—É –±—É–¥–µ—Ç —Ö–æ–¥–∏—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä. –í—ã–±–æ—Ä –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∏–∑ –º–∞—Å—Å–∏–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è –∫–æ–º–ø—å—é—Ç–µ—Ä–∞(–ò–ò) —è—á–µ–µ–∫ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è. –í–æ–∑—Ä–∞—â–∞–µ–º –∏–Ω–¥–µ–∫—Å –¥–ª—è –º–∞—Å—Å–∏–≤–∞ steps\r\n      this.checkLevel(); // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —É—Ä–æ–≤–Ω—è –∏ —Å—Ç–∏—Ä–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å –∑–æ–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –¥–ª—è —à–∞–≥–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞(–ò–ò) –∏ –∑–æ–Ω–æ–π –∞—Ç–∞–∫–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤(–ò–ò)\r\n      this.gamePlay.redrawPositions(this.gameState.teams); // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –≥–µ—Ä–æ–µ–≤ –Ω–∞ –∏–≥—Ä. –∫–∞—Ä—Ç–µ –≥–µ—Ä–æ–µ–≤.\r\n    }\r\n  }\r\n\r\n  /**\r\n   * –ü–æ–≤—ã—à–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å —á–ª–µ–Ω–æ–≤ –∫–æ–º–∞–Ω–¥—ã\r\n   */\r\n  static levelUp() {\r\n    let arr = [];\r\n    for (const member of this.gameState.teams) {\r\n      const parameter = member.character;\r\n      member.position = startFieldGenerator(side.USER, arr); // –†–∞—Å—Ç–∞–≤–ª—è–µ–º —Å–ª—É—á–∞–π–Ω–æ –≥–µ—Ä–æ–µ–≤ –≤ —è—á–µ–∫–∏ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è  \r\n      parameter.level += 1;\r\n      parameter.health = parameter.health + 80 >= 100 ? 100 : parameter.health + 80; // –ü—Ä–∏–±–∞–≤–ª—è–µ–º –∑–¥–æ—Ä–æ–≤—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ –Ω–∞ —Å–∫–æ–ª—å–∫–æ –º—ã –µ–≥–æ –ø–æ—Ç–µ—Ä—è–ª–∏ –≤ –ø—Ä–æ—à–ª–æ–π –∏–≥—Ä–µ\r\n      parameter.attack = Math.floor(Math.max(parameter.attack, parameter.attack * (0.8 + parameter.health / 100)));\r\n    }\r\n    arr = [];\r\n  }\r\n\r\n  /**\r\n   *  –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—Ç–∞—Ä—Ç–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥ (–¥–≤–∞ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞ –æ–¥–Ω–æ–º –ø–æ–ª–µ)\r\n   * @param {*} teamType - –ú–∞—Å—Å–∏–≤ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∏–≥—Ä–æ–∫–∞\r\n   * @param {*} prayer - –¢–∏–ø –∏–≥—Ä–æ–∫–∞ 'user' –∏–ª–∏ 'computer'\r\n   * @returns - –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Ç–∏–ø–∞ PositionedCharacter\r\n   */\r\n  static teamGeneration(teamType, prayer, maxLevel, count) {\r\n    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É\r\n    let newTeam = generateTeam(teamType, maxLevel, count);\r\n    // –°–ø–∏—Å–æ–∫ –∑–∞–Ω—è—Ç—ã—Ö –Ω–∞ –ø–æ–ª–µ –ø–æ–∑–∏—Ü–∏–π\r\n    const positionList = [];\r\n    if (this.gameState.teams.length) {\r\n      this.gameState.teams.forEach((elem) => positionList.push(elem.position));\r\n    }\r\n    // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏–∏ –Ω–æ–≤—ã–º –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º\r\n    let arr = []\r\n    newTeam = newTeam.toArray.reduce((acc, member) => {\r\n      // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö\r\n      let randomNumber = startFieldGenerator(prayer, arr);\r\n      positionList.push(randomNumber);\r\n      acc.push(new PositionedCharacter(member, randomNumber));\r\n      return acc;\r\n    }, []);\r\n    arr = []\r\n    this.gameState.teams.push(...newTeam);\r\n  }\r\n\r\n  /**\r\n * –û—á–∏—â–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ\r\n * @param {string} key - –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –æ—á–∏—Å—Ç–∏—Ç—å localStorage;\r\n */\r\n  static clearLocalStorage(key) {\r\n    localStorage.removeItem(key);\r\n  }\r\n}\r\n","export default class GameStateService {\r\n  constructor(storage) {\r\n    this.storage = storage;\r\n  }\r\n\r\n  save(state) {\r\n    this.storage.setItem('state', JSON.stringify(state));\r\n  }\r\n\r\n  load() {\r\n    try {\r\n      return JSON.parse(this.storage.getItem('state')); //–ò–∑–≤–ª–µ–∫–∞–µ–º –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π –∏–≥—Ä–æ–π –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –∏–∑ —Å—Ç—Ä–æ–∫–∏ –≤ obj\r\n    } catch (e) {\r\n      throw new Error('Invalid state');\r\n    }\r\n  }\r\n}\r\n","/**\r\n * Entry point of app: don't change this\r\n */\r\nimport GamePlay from './GamePlay';\r\nimport GameController from './GameController';\r\nimport GameStateService from './GameStateService';\r\n\r\nconst gamePlay = new GamePlay();\r\ngamePlay.bindToDOM(document.querySelector('#game-container'));\r\ngamePlay.bindPopup(document.querySelector('#popup'));\r\n\r\nconst stateService = new GameStateService(localStorage);\r\n\r\nconst gameCtrl = new GameController(gamePlay, stateService); // –í –∫–∞—á–µ—Å–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –¥–≤–∞ –∫–ª–∞—Å—Å–∞ \r\ngameCtrl.init();\r\n"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_toConsumableArray","isArray","iter","Symbol","iterator","from","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","TypeError","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","calcTileType","index","boardSize","GamePlay","this","container","popup","boardEl","cells","cellClickListeners","cellEnterListeners","cellLeaveListeners","newGameListeners","saveGameListeners","loadGameListeners","HTMLElement","Error","theme","checkBinding","innerHTML","newGameEl","querySelector","saveGameEl","loadGameEl","popupCloseButton","addEventListener","event","onNewGameClick","onSaveGameClick","onLoadGameClick","closePopup","classList","add","cellEl","document","createElement","onCellEnter","onCellLeave","onCellClick","appendChild","children","positions","health","position","charEl","character","type","healthEl","healthIndicatorEl","style","width","callback","push","preventDefault","indexOf","currentTarget","forEach","color","deselectCell","cell","remove","filter","startsWith","message","title","damage","Promise","resolve","damageEl","textContent","removeChild","cursor","alert","_typeof","obj","asyncGeneratorStep","gen","reject","_next","_throw","arg","info","value","error","done","then","prairie","desert","arctic","mountain","GameState","stage","teams","motion","scores","availableSteps","availableAttack","selectedHero","member","sum","reduce","acc","player","object","Character","level","attack","defence","stepsRadius","attackRadius","PositionedCharacter","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_inherits","subClass","superClass","create","_possibleConstructorReturn","_getPrototypeOf","getPrototypeOf","_defineProperty","set","property","receiver","Reflect","desc","base","hasOwnProperty","getOwnPropertyDescriptor","_set","isStrict","side","Bowman","Magician","Swordsman","Daemon","Undead","Vampire","heroesConfig","Team","members","Set","characterGenerator","allowedTypes","maxLevel","randomType","Math","floor","random","randomLevel","startFieldGenerator","cellsCount","validateCells","randomIndex","some","el","getAvailableDistance","radius","allowableSteps","topCell","bottomCell","leftCell","rightCell","num","getAvailableAttack","allowableAttack","startCell","topValues","bottomValues","userTypes","computerTypes","GameController","gamePlay","stateService","gameState","fn","loadGame","addCellEnterListener","addCellLeaveListener","addCellClickListener","addSaveGameListener","saveGame","addLoadGameListener","addNewGameListener","newGame","hero","find","elem","selectCell","includes","checkLevel","showPopup","toUpperCase","hideCellTooltip","toolTip","createToolTipTemplate","showCellTooltip","activeCursor","activeCursorSelectedHero","pointer","cursors","setCursor","save","checkCell","load","drawUi","values","themes","redrawPositions","clearLocalStorage","totalScores","nextStage","computerLogic","clear","userValue","computerValue","nextPlayer","addScores","teamGeneration","levelUp","count","userCount","attacked","attacker","indexAttacked","defense","attackedUnit","round","max","removeHero","showDamage","args","arguments","apply","err","undefined","computerTeams","userTeams","map","compUnit","userUnit","unit","steps","x","step","parameter","teamType","prayer","newTeam","characterCount","team","generateTeam","positionList","toArray","randomNumber","localStorage","removeItem","GameStateService","storage","state","setItem","JSON","stringify","parse","getItem","e","bindToDOM","bindPopup","init"],"sourceRoot":""}